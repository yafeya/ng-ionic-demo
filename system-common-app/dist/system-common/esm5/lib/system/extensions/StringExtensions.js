/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @record
 */
function StringConstructor() { }
/** @type {?} */
StringConstructor.prototype.IsNullOrEmpty;
/** @type {?} */
StringConstructor.prototype.IsValid;
/** @type {?} */
StringConstructor.prototype.Empty;
String.prototype.ToLower = function () {
    return this.toLowerCase();
};
String.prototype.ToUpper = function () {
    return this.toUpperCase();
};
String.prototype.Trim = function () {
    return this.replace(/^\s+|\s+$/g, '');
};
String.prototype.Normalize = function () {
    return this.replace(/^\s*|\s(?=\s)|\s*$/g, '');
};
String.prototype.StartsWith = function (part) {
    return this.slice(0, part.length) === part;
};
String.prototype.EndsWith = function (part) {
    return this.slice(part.length) === part;
};
String.prototype.CapFirst = function () {
    if (this.length === 1) {
        return this.toUpperCase();
    }
    else if (this.length > 0) {
        /** @type {?} */
        var regex = /^(\(|\[|'|')/;
        if (regex.test(this)) {
            return this.substring(0, 2).toUpperCase() + this.substring(2);
        }
        else {
            return this.substring(0, 1).toUpperCase() + this.substring(1);
        }
    }
    return null;
};
String.prototype.CapWords = function () {
    /** @type {?} */
    var regexp = /\s/;
    /** @type {?} */
    var words = this.split(regexp);
    if (words.length === 1) {
        return words[0].capFirst();
    }
    else if (words.length > 1) {
        /** @type {?} */
        var result = '';
        for (var i = 0; i < words.length; i++) {
            if (words[i].capFirst() !== null) {
                result += words[i].capFirst() + ' ';
            }
        }
        result.trim();
        return result;
    }
    return null;
};
String.prototype.TruncateWords = function (num) {
    /** @type {?} */
    var words = this.split(/\s+/);
    if (words.length > num) {
        return words.slice(0, num).join(' ');
    }
    return words.join(' ');
};
String.prototype.StripHtml = function () {
    /** @type {?} */
    var content = this.replace(/<[\/]?([^> ]+)[^>]*>/g, '');
    content = content.replace(/<style[^>]*>[\s\S]*?<\/style>/ig, '');
    content = content.replace(/<script[^>]*>[\s\S]*?<\/script>/ig, '');
    content = content.replace(/<!--[\s\S]*?-->/g, '');
    content = content.replace('&nbsp;', ' ');
    content = content.replace('&amp;', '&');
    return content;
};
String.prototype.EscapeHtml = function () {
    /** @type {?} */
    var content = this.replace(/'/g, '&quot;');
    content.replace(/&(?!\w+;)/g, '&amp;');
    content.replace(/>/g, '&gt;');
    content.replace(/</g, '&lt;');
    return content;
};
String.prototype.Contains = function (val) {
    if (this.indexOf(val) !== -1) {
        return true;
    }
    return false;
};
String.prototype.Slugify = function (lower) {
    if (lower === void 0) { lower = true; }
    if (!lower) {
        return this.lower().normalize().replace(/[^a-z0-9]/gi, '-');
    }
    return this.normalize().replace(/[^a-z0-9]/gi, '-');
};
String.prototype.HtmlToText = function () {
    /** @type {?} */
    var output = this.replace(/<[^>]*>?/g, '');
    return output;
};
String.prototype.CountWord = function () {
    /** @type {?} */
    var content = this;
    if (!content)
        return 0;
    /** @type {?} */
    var words = '';
    /** @type {?} */
    var symbols = '';
    content.replace(/([\w\s]*)([^\w;,.''{}\[\]+_)(*&\^%$#@!~\/?]*)/g, function (a, b, c) {
        words += b;
        symbols += c;
        return a;
    });
    /** @type {?} */
    var count = words.trim().split(' ').length;
    if (symbols)
        count += symbols.replace(' ', '').split('').length;
    return count;
};
String.prototype.ValidateEmail = function () {
    /** @type {?} */
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(this);
};
String.prototype.IndexOf = function (value) {
    return this.indexOf(value);
};
String.prototype.LastIndexOf = function (value) {
    return this.lastIndexOf(value);
};
String.prototype.SubString = function (start, length) {
    return this.substring(start, length);
};
String.IsNullOrEmpty = function (value) {
    if (value === undefined || value === null) {
        return true;
    }
    /** @type {?} */
    var text = value.toString();
    if (text === '') {
        return true;
    }
    if (text && text.trim() === '') {
        return true;
    }
    return false;
};
String.IsValid = function (value) {
    return !String.IsNullOrEmpty(value);
};
String.Empty = function () {
    return '';
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RyaW5nRXh0ZW5zaW9ucy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3lhZmV5YS1zeXN0ZW0tY29tbW9uLyIsInNvdXJjZXMiOlsibGliL3N5c3RlbS9leHRlbnNpb25zL1N0cmluZ0V4dGVuc2lvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUE2QkEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUc7SUFDdkIsT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Q0FDN0IsQ0FBQztBQUNGLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHO0lBQ3ZCLE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0NBQzdCLENBQUM7QUFDRixNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRztJQUNwQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ3pDLENBQUM7QUFDRixNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRztJQUN6QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDbEQsQ0FBQztBQUNGLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBWTtJQUNoRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLENBQUM7Q0FDOUMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsSUFBWTtJQUM5QyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQztDQUMzQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUc7SUFDeEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUNuQixPQUFPLElBQUksQ0FBQyxX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QUMsYUFBYSxHQUFHLFVBQVUsS0FBVTtJQUN2QyxJQUFJLEtBQUssS0FBSyxTQUFTLElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtRQUN2QyxPQUFPLElBQUksQ0FBQztLQUNmOztJQUNELElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM1QixJQUFJLElBQUksS0FBSyxFQUFFLEVBQUU7UUFDYixPQUFPLElBQUksQ0FBQztLQUNmO0lBQ0QsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUM1QixPQUFPLElBQUksQ0FBQztLQUNmO0lBQ0QsT0FBTyxLQUFLLENBQUM7Q0FDaEIsQ0FBQztBQUNGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxLQUFVO0lBQ2pDLE9BQU8sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQ3ZDLENBQUE7QUFDRCxNQUFNLENBQUMsS0FBSyxHQUFHO0lBQ1gsT0FBTyxFQUFFLENBQUM7Q0FDYixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmludGVyZmFjZSBTdHJpbmcge1xyXG4gICAgVG9Mb3dlcjogKCkgPT4gc3RyaW5nO1xyXG4gICAgVG9VcHBlcjogKCkgPT4gc3RyaW5nO1xyXG4gICAgVHJpbTogKCkgPT4gc3RyaW5nO1xyXG4gICAgTm9ybWFsaXplOiAoKSA9PiBzdHJpbmc7XHJcbiAgICBTdGFydHNXaXRoOiAocGFydDogc3RyaW5nKSA9PiBib29sZWFuO1xyXG4gICAgRW5kc1dpdGg6IChwYXJ0OiBzdHJpbmcpID0+IGJvb2xlYW47XHJcbiAgICBDYXBGaXJzdDogKCkgPT4gc3RyaW5nO1xyXG4gICAgQ2FwV29yZHM6ICgpID0+IHN0cmluZztcclxuICAgIFRydW5jYXRlV29yZHM6IChudW1iZXI6IG51bWJlcikgPT4gc3RyaW5nO1xyXG4gICAgQ29udGFpbnM6ICh2YWx1ZTogc3RyaW5nKSA9PiBib29sZWFuO1xyXG4gICAgU2x1Z2lmeTogKGxvd2VyPzogYm9vbGVhbikgPT4gc3RyaW5nO1xyXG4gICAgU3RyaXBIdG1sOiAoKSA9PiBzdHJpbmc7XHJcbiAgICBFc2NhcGVIdG1sOiAoKSA9PiBzdHJpbmc7XHJcbiAgICBDb3VudFdvcmQ6ICgpID0+IG51bWJlcjtcclxuICAgIEh0bWxUb1RleHQ6ICgpID0+IHN0cmluZztcclxuICAgIFZhbGlkYXRlRW1haWw6ICgpID0+IGJvb2xlYW47XHJcbiAgICBJbmRleE9mOiAodmFsdWU6IHN0cmluZykgPT4gbnVtYmVyO1xyXG4gICAgTGFzdEluZGV4T2Y6ICh2YWx1ZTogc3RyaW5nKSA9PiBudW1iZXI7XHJcbiAgICBTdWJTdHJpbmc6IChzdGFydDogbnVtYmVyLCBsZW5ndGg6IG51bWJlcikgPT4gc3RyaW5nO1xyXG59XHJcbmludGVyZmFjZSBTdHJpbmdDb25zdHJ1Y3RvciB7XHJcbiAgICBJc051bGxPckVtcHR5OiAodmFsdWU6IGFueSkgPT4gYm9vbGVhbjtcclxuICAgIElzVmFsaWQ6ICh2YWx1ZTogYW55KSA9PiBib29sZWFuO1xyXG4gICAgRW1wdHk6ICgpID0+IHN0cmluZztcclxufVxyXG5cclxuXHJcblN0cmluZy5wcm90b3R5cGUuVG9Mb3dlciA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMudG9Mb3dlckNhc2UoKTtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5Ub1VwcGVyID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy50b1VwcGVyQ2FzZSgpO1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLlRyaW0gPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5Ob3JtYWxpemUgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMqfFxccyg/PVxccyl8XFxzKiQvZywgJycpO1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLlN0YXJ0c1dpdGggPSBmdW5jdGlvbiAocGFydDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBwYXJ0Lmxlbmd0aCkgPT09IHBhcnQ7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuRW5kc1dpdGggPSBmdW5jdGlvbiAocGFydDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zbGljZShwYXJ0Lmxlbmd0aCkgPT09IHBhcnQ7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuQ2FwRmlyc3QgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCByZWdleDogUmVnRXhwID0gL14oXFwofFxcW3wnfCcpLztcclxuICAgICAgICBpZiAocmVnZXgudGVzdCh0aGlzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKDIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuQ2FwV29yZHMgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICAgIGxldCByZWdleHA6IFJlZ0V4cCA9IC9cXHMvO1xyXG4gICAgbGV0IHdvcmRzID0gdGhpcy5zcGxpdChyZWdleHApO1xyXG4gICAgaWYgKHdvcmRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiB3b3Jkc1swXS5jYXBGaXJzdCgpO1xyXG4gICAgfSBlbHNlIGlmICh3b3Jkcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHdvcmRzW2ldLmNhcEZpcnN0KCkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB3b3Jkc1tpXS5jYXBGaXJzdCgpICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdC50cmltKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLlRydW5jYXRlV29yZHMgPSBmdW5jdGlvbiAobnVtOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgbGV0IHdvcmRzOiBBcnJheTxzdHJpbmc+ID0gdGhpcy5zcGxpdCgvXFxzKy8pO1xyXG4gICAgaWYgKHdvcmRzLmxlbmd0aCA+IG51bSkge1xyXG4gICAgICAgIHJldHVybiB3b3Jkcy5zbGljZSgwLCBudW0pLmpvaW4oJyAnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB3b3Jkcy5qb2luKCcgJyk7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuU3RyaXBIdG1sID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICBsZXQgY29udGVudDogc3RyaW5nID0gdGhpcy5yZXBsYWNlKC88W1xcL10/KFtePiBdKylbXj5dKj4vZywgJycpO1xyXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPHN0eWxlW14+XSo+W1xcc1xcU10qPzxcXC9zdHlsZT4vaWcsICcnKTtcclxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLzxzY3JpcHRbXj5dKj5bXFxzXFxTXSo/PFxcL3NjcmlwdD4vaWcsICcnKTtcclxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLzwhLS1bXFxzXFxTXSo/LS0+L2csICcnKTtcclxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyZuYnNwOycsICcgJyk7XHJcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKCcmYW1wOycsICcmJyk7XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5Fc2NhcGVIdG1sID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICBsZXQgY29udGVudDogc3RyaW5nID0gdGhpcy5yZXBsYWNlKC8nL2csICcmcXVvdDsnKTtcclxuICAgIGNvbnRlbnQucmVwbGFjZSgvJig/IVxcdys7KS9nLCAnJmFtcDsnKTtcclxuICAgIGNvbnRlbnQucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xyXG4gICAgY29udGVudC5yZXBsYWNlKC88L2csICcmbHQ7Jyk7XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5Db250YWlucyA9IGZ1bmN0aW9uICh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuaW5kZXhPZih2YWwpICE9PSAtMSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLlNsdWdpZnkgPSBmdW5jdGlvbiAobG93ZXI6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHtcclxuICAgIGlmICghbG93ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb3dlcigpLm5vcm1hbGl6ZSgpLnJlcGxhY2UoL1teYS16MC05XS9naSwgJy0nKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLnJlcGxhY2UoL1teYS16MC05XS9naSwgJy0nKTtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5IdG1sVG9UZXh0ID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBvdXRwdXQgPSB0aGlzLnJlcGxhY2UoLzxbXj5dKj4/L2csICcnKTtcclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuU3RyaW5nLnByb3RvdHlwZS5Db3VudFdvcmQgPSBmdW5jdGlvbiAoKTogbnVtYmVyIHtcclxuICAgIGxldCBjb250ZW50ID0gdGhpcztcclxuICAgIGlmICghY29udGVudClcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIGxldCB3b3JkcyA9ICcnLCBzeW1ib2xzID0gJyc7XHJcbiAgICBjb250ZW50LnJlcGxhY2UoLyhbXFx3XFxzXSopKFteXFx3OywuJyd7fVxcW1xcXStfKSgqJlxcXiUkI0AhflxcLz9dKikvZywgKGEsIGIsIGMpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIHdvcmRzICs9IGI7XHJcbiAgICAgICAgc3ltYm9scyArPSBjO1xyXG5cclxuICAgICAgICByZXR1cm4gYTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBjb3VudCA9IHdvcmRzLnRyaW0oKS5zcGxpdCgnICcpLmxlbmd0aDtcclxuICAgIGlmIChzeW1ib2xzKVxyXG4gICAgICAgIGNvdW50ICs9IHN5bWJvbHMucmVwbGFjZSgnICcsICcnKS5zcGxpdCgnJykubGVuZ3RoO1xyXG5cclxuICAgIHJldHVybiBjb3VudDtcclxufVxyXG5TdHJpbmcucHJvdG90eXBlLlZhbGlkYXRlRW1haWwgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuICAgIHJldHVybiByZS50ZXN0KHRoaXMpO1xyXG59XHJcblN0cmluZy5wcm90b3R5cGUuSW5kZXhPZiA9IGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4T2YodmFsdWUpO1xyXG59XHJcblN0cmluZy5wcm90b3R5cGUuTGFzdEluZGV4T2YgPSBmdW5jdGlvbiAodmFsdWU6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5sYXN0SW5kZXhPZih2YWx1ZSk7XHJcbn1cclxuU3RyaW5nLnByb3RvdHlwZS5TdWJTdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuc3Vic3RyaW5nKHN0YXJ0LCBsZW5ndGgpO1xyXG59XHJcblxyXG5TdHJpbmcuSXNOdWxsT3JFbXB0eSA9IGZ1bmN0aW9uICh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgbGV0IHRleHQgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgaWYgKHRleHQgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGV4dCAmJiB0ZXh0LnRyaW0oKSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxuU3RyaW5nLklzVmFsaWQgPSBmdW5jdGlvbiAodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICFTdHJpbmcuSXNOdWxsT3JFbXB0eSh2YWx1ZSk7XHJcbn1cclxuU3RyaW5nLkVtcHR5ID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcblxyXG4iXX0=