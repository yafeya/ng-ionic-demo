/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @record
 */
function StringConstructor() { }
/** @type {?} */
StringConstructor.prototype.IsNullOrEmpty;
/** @type {?} */
StringConstructor.prototype.IsValid;
/** @type {?} */
StringConstructor.prototype.Empty;
String.prototype.ToLower = function () {
    return this.toLowerCase();
};
String.prototype.ToUpper = function () {
    return this.toUpperCase();
};
String.prototype.Trim = function () {
    return this.replace(/^\s+|\s+$/g, '');
};
String.prototype.Normalize = function () {
    return this.replace(/^\s*|\s(?=\s)|\s*$/g, '');
};
String.prototype.StartsWith = function (part) {
    return this.slice(0, part.length) === part;
};
String.prototype.EndsWith = function (part) {
    return this.slice(part.length) === part;
};
String.prototype.CapFirst = function () {
    if (this.length === 1) {
        return this.toUpperCase();
    }
    else if (this.length > 0) {
        /** @type {?} */
        let regex = /^(\(|\[|'|')/;
        if (regex.test(this)) {
            return this.substring(0, 2).toUpperCase() + this.substring(2);
        }
        else {
            return this.substring(0, 1).toUpperCase() + this.substring(1);
        }
    }
    return null;
};
String.prototype.CapWords = function () {
    /** @type {?} */
    let regexp = /\s/;
    /** @type {?} */
    let words = this.split(regexp);
    if (words.length === 1) {
        return words[0].capFirst();
    }
    else if (words.length > 1) {
        /** @type {?} */
        let result = '';
        for (let i = 0; i < words.length; i++) {
            if (words[i].capFirst() !== null) {
                result += words[i].capFirst() + ' ';
            }
        }
        result.trim();
        return result;
    }
    return null;
};
String.prototype.TruncateWords = function (num) {
    /** @type {?} */
    let words = this.split(/\s+/);
    if (words.length > num) {
        return words.slice(0, num).join(' ');
    }
    return words.join(' ');
};
String.prototype.StripHtml = function () {
    /** @type {?} */
    let content = this.replace(/<[\/]?([^> ]+)[^>]*>/g, '');
    content = content.replace(/<style[^>]*>[\s\S]*?<\/style>/ig, '');
    content = content.replace(/<script[^>]*>[\s\S]*?<\/script>/ig, '');
    content = content.replace(/<!--[\s\S]*?-->/g, '');
    content = content.replace('&nbsp;', ' ');
    content = content.replace('&amp;', '&');
    return content;
};
String.prototype.EscapeHtml = function () {
    /** @type {?} */
    let content = this.replace(/'/g, '&quot;');
    content.replace(/&(?!\w+;)/g, '&amp;');
    content.replace(/>/g, '&gt;');
    content.replace(/</g, '&lt;');
    return content;
};
String.prototype.Contains = function (val) {
    if (this.indexOf(val) !== -1) {
        return true;
    }
    return false;
};
String.prototype.Slugify = function (lower = true) {
    if (!lower) {
        return this.lower().normalize().replace(/[^a-z0-9]/gi, '-');
    }
    return this.normalize().replace(/[^a-z0-9]/gi, '-');
};
String.prototype.HtmlToText = function () {
    /** @type {?} */
    const output = this.replace(/<[^>]*>?/g, '');
    return output;
};
String.prototype.CountWord = function () {
    /** @type {?} */
    let content = this;
    if (!content)
        return 0;
    /** @type {?} */
    let words = '';
    /** @type {?} */
    let symbols = '';
    content.replace(/([\w\s]*)([^\w;,.''{}\[\]+_)(*&\^%$#@!~\/?]*)/g, (a, b, c) => {
        words += b;
        symbols += c;
        return a;
    });
    /** @type {?} */
    let count = words.trim().split(' ').length;
    if (symbols)
        count += symbols.replace(' ', '').split('').length;
    return count;
};
String.prototype.ValidateEmail = function () {
    /** @type {?} */
    let re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(this);
};
String.prototype.IndexOf = function (value) {
    return this.indexOf(value);
};
String.prototype.LastIndexOf = function (value) {
    return this.lastIndexOf(value);
};
String.prototype.SubString = function (start, length) {
    return this.substring(start, length);
};
String.IsNullOrEmpty = function (value) {
    if (value === undefined || value === null) {
        return true;
    }
    /** @type {?} */
    let text = value.toString();
    if (text === '') {
        return true;
    }
    if (text && text.trim() === '') {
        return true;
    }
    return false;
};
String.IsValid = function (value) {
    return !String.IsNullOrEmpty(value);
};
String.Empty = function () {
    return '';
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RyaW5nRXh0ZW5zaW9ucy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3lhZmV5YS1zeXN0ZW0tY29tbW9uLyIsInNvdXJjZXMiOlsibGliL3N5c3RlbS9leHRlbnNpb25zL1N0cmluZ0V4dGVuc2lvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUE2QkEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUc7SUFDdkIsT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Q0FDN0IsQ0FBQztBQUNGLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHO0lBQ3ZCLE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0NBQzdCLENBQUM7QUFDRixNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRztJQUNwQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ3pDLENBQUM7QUFDRixNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRztJQUN6QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDbEQsQ0FBQztBQUNGLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBWTtJQUNoRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLENBQUM7Q0FDOUMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsSUFBWTtJQUM5QyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQztDQUMzQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUc7SUFDeEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUNuQixPQUFPLElBQUksQ0FBQyxX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R0FBRyxVQUFVLEtBQVU7SUFDdkMsSUFBSSxLQUFLLEtBQUssU0FBUyxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUU7UUFDdkMsT0FBTyxJQUFJLENBQUM7S0FDZjs7SUFDRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDNUIsSUFBSSxJQUFJLEtBQUssRUFBRSxFQUFFO1FBQ2IsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7QUFDRixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsS0FBVTtJQUNqQyxPQUFPLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUN2QyxDQUFBO0FBQ0QsTUFBTSxDQUFDLEtBQUssR0FBRztJQUNYLE9BQU8sRUFBRSxDQUFDO0NBQ2IsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbnRlcmZhY2UgU3RyaW5nIHtcclxuICAgIFRvTG93ZXI6ICgpID0+IHN0cmluZztcclxuICAgIFRvVXBwZXI6ICgpID0+IHN0cmluZztcclxuICAgIFRyaW06ICgpID0+IHN0cmluZztcclxuICAgIE5vcm1hbGl6ZTogKCkgPT4gc3RyaW5nO1xyXG4gICAgU3RhcnRzV2l0aDogKHBhcnQ6IHN0cmluZykgPT4gYm9vbGVhbjtcclxuICAgIEVuZHNXaXRoOiAocGFydDogc3RyaW5nKSA9PiBib29sZWFuO1xyXG4gICAgQ2FwRmlyc3Q6ICgpID0+IHN0cmluZztcclxuICAgIENhcFdvcmRzOiAoKSA9PiBzdHJpbmc7XHJcbiAgICBUcnVuY2F0ZVdvcmRzOiAobnVtYmVyOiBudW1iZXIpID0+IHN0cmluZztcclxuICAgIENvbnRhaW5zOiAodmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbjtcclxuICAgIFNsdWdpZnk6IChsb3dlcj86IGJvb2xlYW4pID0+IHN0cmluZztcclxuICAgIFN0cmlwSHRtbDogKCkgPT4gc3RyaW5nO1xyXG4gICAgRXNjYXBlSHRtbDogKCkgPT4gc3RyaW5nO1xyXG4gICAgQ291bnRXb3JkOiAoKSA9PiBudW1iZXI7XHJcbiAgICBIdG1sVG9UZXh0OiAoKSA9PiBzdHJpbmc7XHJcbiAgICBWYWxpZGF0ZUVtYWlsOiAoKSA9PiBib29sZWFuO1xyXG4gICAgSW5kZXhPZjogKHZhbHVlOiBzdHJpbmcpID0+IG51bWJlcjtcclxuICAgIExhc3RJbmRleE9mOiAodmFsdWU6IHN0cmluZykgPT4gbnVtYmVyO1xyXG4gICAgU3ViU3RyaW5nOiAoc3RhcnQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpID0+IHN0cmluZztcclxufVxyXG5pbnRlcmZhY2UgU3RyaW5nQ29uc3RydWN0b3Ige1xyXG4gICAgSXNOdWxsT3JFbXB0eTogKHZhbHVlOiBhbnkpID0+IGJvb2xlYW47XHJcbiAgICBJc1ZhbGlkOiAodmFsdWU6IGFueSkgPT4gYm9vbGVhbjtcclxuICAgIEVtcHR5OiAoKSA9PiBzdHJpbmc7XHJcbn1cclxuXHJcblxyXG5TdHJpbmcucHJvdG90eXBlLlRvTG93ZXIgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnRvTG93ZXJDYXNlKCk7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuVG9VcHBlciA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMudG9VcHBlckNhc2UoKTtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5UcmltID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuTm9ybWFsaXplID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzKnxcXHMoPz1cXHMpfFxccyokL2csICcnKTtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5TdGFydHNXaXRoID0gZnVuY3Rpb24gKHBhcnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgcGFydC5sZW5ndGgpID09PSBwYXJ0O1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLkVuZHNXaXRoID0gZnVuY3Rpb24gKHBhcnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2xpY2UocGFydC5sZW5ndGgpID09PSBwYXJ0O1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLkNhcEZpcnN0ID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgcmVnZXg6IFJlZ0V4cCA9IC9eKFxcKHxcXFt8J3wnKS87XHJcbiAgICAgICAgaWYgKHJlZ2V4LnRlc3QodGhpcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic3RyaW5nKDAsIDIpLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZygyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLkNhcFdvcmRzID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XHJcbiAgICBsZXQgcmVnZXhwOiBSZWdFeHAgPSAvXFxzLztcclxuICAgIGxldCB3b3JkcyA9IHRoaXMuc3BsaXQocmVnZXhwKTtcclxuICAgIGlmICh3b3Jkcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gd29yZHNbMF0uY2FwRmlyc3QoKTtcclxuICAgIH0gZWxzZSBpZiAod29yZHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh3b3Jkc1tpXS5jYXBGaXJzdCgpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gd29yZHNbaV0uY2FwRmlyc3QoKSArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQudHJpbSgpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5UcnVuY2F0ZVdvcmRzID0gZnVuY3Rpb24gKG51bTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGxldCB3b3JkczogQXJyYXk8c3RyaW5nPiA9IHRoaXMuc3BsaXQoL1xccysvKTtcclxuICAgIGlmICh3b3Jkcy5sZW5ndGggPiBudW0pIHtcclxuICAgICAgICByZXR1cm4gd29yZHMuc2xpY2UoMCwgbnVtKS5qb2luKCcgJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gd29yZHMuam9pbignICcpO1xyXG59O1xyXG5TdHJpbmcucHJvdG90eXBlLlN0cmlwSHRtbCA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gICAgbGV0IGNvbnRlbnQ6IHN0cmluZyA9IHRoaXMucmVwbGFjZSgvPFtcXC9dPyhbXj4gXSspW14+XSo+L2csICcnKTtcclxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLzxzdHlsZVtePl0qPltcXHNcXFNdKj88XFwvc3R5bGU+L2lnLCAnJyk7XHJcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88c2NyaXB0W14+XSo+W1xcc1xcU10qPzxcXC9zY3JpcHQ+L2lnLCAnJyk7XHJcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88IS0tW1xcc1xcU10qPy0tPi9nLCAnJyk7XHJcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKCcmbmJzcDsnLCAnICcpO1xyXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJmFtcDsnLCAnJicpO1xyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuRXNjYXBlSHRtbCA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gICAgbGV0IGNvbnRlbnQ6IHN0cmluZyA9IHRoaXMucmVwbGFjZSgvJy9nLCAnJnF1b3Q7Jyk7XHJcbiAgICBjb250ZW50LnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7Jyk7XHJcbiAgICBjb250ZW50LnJlcGxhY2UoLz4vZywgJyZndDsnKTtcclxuICAgIGNvbnRlbnQucmVwbGFjZSgvPC9nLCAnJmx0OycpO1xyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuQ29udGFpbnMgPSBmdW5jdGlvbiAodmFsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLmluZGV4T2YodmFsKSAhPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxuU3RyaW5nLnByb3RvdHlwZS5TbHVnaWZ5ID0gZnVuY3Rpb24gKGxvd2VyOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWxvd2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG93ZXIoKS5ub3JtYWxpemUoKS5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksICctJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksICctJyk7XHJcbn07XHJcblN0cmluZy5wcm90b3R5cGUuSHRtbFRvVGV4dCA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgb3V0cHV0ID0gdGhpcy5yZXBsYWNlKC88W14+XSo+Py9nLCAnJyk7XHJcbiAgICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblN0cmluZy5wcm90b3R5cGUuQ291bnRXb3JkID0gZnVuY3Rpb24gKCk6IG51bWJlciB7XHJcbiAgICBsZXQgY29udGVudCA9IHRoaXM7XHJcbiAgICBpZiAoIWNvbnRlbnQpXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICBsZXQgd29yZHMgPSAnJywgc3ltYm9scyA9ICcnO1xyXG4gICAgY29udGVudC5yZXBsYWNlKC8oW1xcd1xcc10qKShbXlxcdzssLicne31cXFtcXF0rXykoKiZcXF4lJCNAIX5cXC8/XSopL2csIChhLCBiLCBjKTogc3RyaW5nID0+IHtcclxuICAgICAgICB3b3JkcyArPSBiO1xyXG4gICAgICAgIHN5bWJvbHMgKz0gYztcclxuXHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgY291bnQgPSB3b3Jkcy50cmltKCkuc3BsaXQoJyAnKS5sZW5ndGg7XHJcbiAgICBpZiAoc3ltYm9scylcclxuICAgICAgICBjb3VudCArPSBzeW1ib2xzLnJlcGxhY2UoJyAnLCAnJykuc3BsaXQoJycpLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gY291bnQ7XHJcbn1cclxuU3RyaW5nLnByb3RvdHlwZS5WYWxpZGF0ZUVtYWlsID0gZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcbiAgICByZXR1cm4gcmUudGVzdCh0aGlzKTtcclxufVxyXG5TdHJpbmcucHJvdG90eXBlLkluZGV4T2YgPSBmdW5jdGlvbiAodmFsdWU6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbHVlKTtcclxufVxyXG5TdHJpbmcucHJvdG90eXBlLkxhc3RJbmRleE9mID0gZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubGFzdEluZGV4T2YodmFsdWUpO1xyXG59XHJcblN0cmluZy5wcm90b3R5cGUuU3ViU3RyaW5nID0gZnVuY3Rpb24gKHN0YXJ0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnN1YnN0cmluZyhzdGFydCwgbGVuZ3RoKTtcclxufVxyXG5cclxuU3RyaW5nLklzTnVsbE9yRW1wdHkgPSBmdW5jdGlvbiAodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGxldCB0ZXh0ID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIGlmICh0ZXh0ID09PSAnJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRleHQgJiYgdGV4dC50cmltKCkgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblN0cmluZy5Jc1ZhbGlkID0gZnVuY3Rpb24gKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhU3RyaW5nLklzTnVsbE9yRW1wdHkodmFsdWUpO1xyXG59XHJcblN0cmluZy5FbXB0eSA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcblxyXG5cclxuIl19